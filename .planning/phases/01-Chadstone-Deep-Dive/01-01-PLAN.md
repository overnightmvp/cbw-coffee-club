---
phase: 01-Chadstone-Deep-Dive
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/blog/RichTextRenderer.tsx
  - docs/content-strategy/internal-linking-matrix.md
  - docs/content-strategy/chadstone-venues.md
autonomous: true
requirements:
  - CONTENT-01
  - CONTENT-02

must_haves:
  truths:
    - "Blog route renders Payload posts correctly with SEO metadata"
    - "Internal linking topology is pre-planned for all 30 posts"
    - "Chadstone venue list validated and ready for spotlights"
  artifacts:
    - path: "src/components/blog/RichTextRenderer.tsx"
      provides: "Lexical rich text rendering component"
      min_lines: 50
    - path: "docs/content-strategy/internal-linking-matrix.md"
      provides: "Internal linking relationships for 30 posts"
      contains: "## Linking Matrix"
    - path: "docs/content-strategy/chadstone-venues.md"
      provides: "Validated venue list for spotlights"
      contains: "business_name"
  key_links:
    - from: "src/app/(main)/blog/[slug]/page.tsx"
      to: "RichTextRenderer"
      via: "component import"
      pattern: "import.*RichTextRenderer"
    - from: "docs/content-strategy/internal-linking-matrix.md"
      to: "Payload Posts collection"
      via: "internalLinks field mapping"
      pattern: "spotlight.*location-guide"
---

<objective>
Validate and prepare blog infrastructure for Phase 1 content publishing.

**Purpose:** Ensure blog route is production-ready, internal linking strategy is pre-planned, and Chadstone venue data is validated before content creation begins.

**Output:**
- Verified blog rendering with RichTextRenderer component
- Internal linking matrix document (30 posts × 3-5 links each = 90-150 relationships)
- Validated Chadstone venue list for spotlights
</objective>

<execution_context>
@/Users/toshioj/.claude/get-shit-done/workflows/execute-plan.md
@/Users/toshioj/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-Chadstone-Deep-Dive/01-RESEARCH.md
@src/collections/Posts.ts
@src/app/(main)/blog/page.tsx
@src/app/(main)/blog/[slug]/page.tsx
</context>

<tasks>

<task type="auto">
  <name>Verify Blog Route & Create RichTextRenderer</name>
  <files>
    src/components/blog/RichTextRenderer.tsx
    src/app/(main)/blog/[slug]/page.tsx
  </files>
  <action>
    Create RichTextRenderer component to render Payload's Lexical rich text content (already imported in blog/[slug]/page.tsx but component doesn't exist yet).

    **Implementation:**
    - Create `src/components/blog/RichTextRenderer.tsx`
    - Accept `content` prop (Lexical JSON from Payload)
    - Render rich text with proper HTML structure (headings, paragraphs, links, lists, bold, italic)
    - Apply Tailwind prose classes for typography
    - Handle internal links to other blog posts (convert Payload relationship links to Next.js Link components)
    - Handle external links (open in new tab with rel="noopener noreferrer")

    **Why this approach:**
    - Payload 3.75.0 uses Lexical editor (not Slate or markdown)
    - Blog route already imports RichTextRenderer but component doesn't exist
    - Lexical JSON format requires custom renderer for Next.js

    **Test the blog route:**
    - Run `npm run dev`
    - Navigate to `/blog` (should show empty state or test posts)
    - Verify no 404 or TypeScript errors for RichTextRenderer import
  </action>
  <verify>
    - `npm run dev` starts without errors
    - `/blog` route loads successfully
    - RichTextRenderer component exists and exports default function
    - TypeScript build passes: `npx tsc --noEmit`
  </verify>
  <done>
    RichTextRenderer component created and renders Lexical JSON content. Blog routes accessible without errors.
  </done>
</task>

<task type="auto">
  <name>Create Internal Linking Matrix</name>
  <files>
    docs/content-strategy/internal-linking-matrix.md
  </files>
  <action>
    Design and document internal linking topology for all 30 Phase 1 posts.

    **Structure:**

    **10 Venue Spotlights** → Each links to:
    - 2-3 location guides (parent geographic guides)
    - 1-2 how-to guides (pricing, event planning)
    - 1 coffee education post (knowledge building)

    **7 Location Guides** → Each links to:
    - 5-10 venue spotlights (comprehensive area coverage)
    - 2-3 how-to guides (organizer guides)
    - 1-2 coffee education posts

    **5 How-To Guides** → Each links to:
    - 3-5 venue spotlights (real examples)
    - 1-2 location guides (geographic context)
    - 1-2 coffee education posts (knowledge foundation)

    **8 Coffee Education Posts** → Each links to:
    - 2-3 related education posts (topic clusters)
    - 1-2 how-to guides (knowledge application)
    - 1-2 venue spotlights (trust building)

    **Document format:**
    Create a markdown table mapping:
    ```markdown
    ## Linking Matrix

    | Post Slug | Type | Internal Links (3-5) | Rationale |
    |-----------|------|----------------------|-----------|
    | best-coffee-carts-chadstone | location-guide | [spotlight-1], [spotlight-2], ... | Parent guide links to child spotlights |
    | artisan-espresso-chadstone | venue-spotlight | [best-coffee-carts-chadstone], [how-to-hire-coffee-carts] | Child links to parent guide + organizer guide |
    ```

    **Linking principles:**
    - Each post has 3-5 internal links (minimum for SEO juice)
    - Bidirectional linking where logical (spotlight ↔ location guide)
    - Coffee education → how-to → spotlights forms buyer journey funnel
    - Avoid link islands (every post connected to at least 3 others)

    **Why this structure:**
    - Pre-planning prevents broken links when publishing in batches
    - Payload `internalLinks` field requires post IDs (need slugs mapped first)
    - SEO link equity flows from high-authority guides to conversion-focused spotlights
  </action>
  <verify>
    - File exists at `docs/content-strategy/internal-linking-matrix.md`
    - Contains table with all 30 post slugs
    - Each row has 3-5 internal link targets
    - No orphaned posts (all posts have incoming + outgoing links)
  </verify>
  <done>
    Internal linking matrix document created with 30 posts × 3-5 links each. All posts connected in SEO-optimized topology.
  </done>
</task>

<task type="auto">
  <name>Validate Chadstone Venue Data</name>
  <files>
    docs/content-strategy/chadstone-venues.md
  </files>
  <action>
    Research and validate 10 coffee venues in Chadstone area for venue spotlight posts.

    **Geographic scope (from RESEARCH.md):**
    - Chadstone (core suburb)
    - Fountain Gate (adjacent)
    - Glen Iris (adjacent)
    - Malvern (adjacent)
    - Oakleigh (adjacent)

    **Venue selection criteria:**
    1. Must serve Chadstone area (mobile carts) OR be located in Chadstone area (coffee shops)
    2. Must be bookable for events (aligns with marketplace value proposition)
    3. Mix of mobile carts and coffee shops (vendor type diversity per ARCHITECTURE.md)
    4. Verifiable business information (name, specialty, location, contact)

    **Data to collect for each venue:**
    - business_name
    - vendor_type ('mobile_cart' | 'coffee_shop')
    - specialty (e.g., "Specialty coffee & latte art", "Organic single-origin beans")
    - suburbs (array of areas served for mobile carts)
    - physical_address (for coffee shops)
    - price_range (if available, in AUD per hour or per cup)
    - capacity (guest count for mobile carts, seating for coffee shops)
    - tags (e.g., ["weddings", "corporate", "specialty-coffee", "latte-art"])
    - contact_email or contact_phone (for verification)

    **Sources:**
    - Google Maps ("coffee carts Chadstone", "coffee shops Chadstone")
    - Instagram/Facebook (search #chadstonecoffee, #melbournecoffeecarts)
    - Event vendor directories (Easy Weddings, The Knot Australia)
    - Existing Supabase `vendors` table (query if any approved vendors)

    **Document format:**
    Create markdown with venue profiles:
    ```markdown
    ## Chadstone Venue List (Phase 1 Spotlights)

    ### 1. [Business Name]
    - **Type:** mobile_cart | coffee_shop
    - **Specialty:** [specialty]
    - **Coverage/Location:** [suburbs array or physical address]
    - **Price:** [AUD/hr or AUD/cup]
    - **Capacity:** [guest count or seating]
    - **Tags:** [array]
    - **Contact:** [email/phone]
    - **Verification Status:** ✅ Verified | ⚠️ Needs verification
    ```

    **Why this research is critical:**
    - Spotlight posts must reference real, bookable vendors (marketplace trust)
    - Venue data feeds into Supabase after admin approval (future-proofing)
    - Ensures 10 spotlights can be written without placeholder content

    **If fewer than 10 verified venues found:**
    - Document shortfall and recommend expanding geographic scope
    - Propose mixing spotlights with "best coffee shops in [area]" roundups
  </action>
  <verify>
    - File exists at `docs/content-strategy/chadstone-venues.md`
    - Contains 10 venue profiles (or documented shortfall with alternatives)
    - Each venue has required fields: business_name, vendor_type, specialty, location
    - At least 8/10 venues marked as "Verified" (contact info or public listing confirmed)
  </verify>
  <done>
    Chadstone venue list validated with 10 coffee venues. Data ready for spotlight post creation.
  </done>
</task>

</tasks>

<verification>
**Blog Infrastructure:**
- Blog route loads at `/blog` and `/blog/[slug]` without errors
- RichTextRenderer renders Payload Lexical content
- SEO metadata (title, description, Open Graph) generated correctly

**Content Strategy:**
- Internal linking matrix maps all 30 posts with 3-5 links each
- No orphaned posts (all posts have incoming and outgoing links)
- Buyer journey funnel visible (education → how-to → spotlights)

**Venue Data:**
- 10 Chadstone venues validated and documented
- Mix of mobile carts and coffee shops
- Contact information or public listings verified for 80%+ of venues
</verification>

<success_criteria>
**Measured Success:**
- `npm run dev` runs without TypeScript errors
- `/blog` route accessible and renders correctly
- `docs/content-strategy/internal-linking-matrix.md` exists with 30 posts × 3-5 links
- `docs/content-strategy/chadstone-venues.md` exists with 10 verified venues
- All files committed to git with `docs(01): content infrastructure ready for Phase 1`

**Ready State:**
Content creation can begin in Plan 02 (Venue Spotlights) with pre-validated data and linking strategy.
</success_criteria>

<output>
After completion, create `.planning/phases/01-Chadstone-Deep-Dive/01-01-SUMMARY.md` documenting:
- Blog infrastructure validation results
- Internal linking matrix structure and post count
- Chadstone venue list (10 venues with verification status)
- Any gaps or blockers discovered
</output>
